@import "tailwindcss";
@theme {
  /* Colors - mapped to CSS variables that will be dynamically generated */
  --color-surface: var(--color-surface);
  --color-surface-alt: var(--color-surface-alt);
  --color-on-surface: var(--color-on-surface);
  --color-on-surface-strong: var(--color-on-surface-strong);
  --color-surface-dark: var(--color-surface-dark);
  --color-surface-dark-alt: var(--color-surface-dark-alt);
  --color-on-surface-dark: var(--color-on-surface-dark);
  --color-on-surface-dark-strong: var(--color-on-surface-dark-strong);
  --color-primary: var(--color-primary);
  --color-on-primary: var(--color-on-primary);
  --color-primary-dark: var(--color-primary-dark);
  --color-on-primary-dark: var(--color-on-primary-dark);
  --color-secondary: var(--color-secondary);
  --color-on-secondary: var(--color-on-secondary);
  --color-secondary-dark: var(--color-secondary-dark);
  --color-on-secondary-dark: var(--color-on-secondary-dark);
  --color-outline: var(--color-outline);
  --color-outline-strong: var(--color-outline-strong);
  --color-outline-dark: var(--color-outline-dark);
  --color-outline-dark-strong: var(--color-outline-dark-strong);
  --color-info: var(--color-info);
  --color-on-info: var(--color-on-info);
  --color-success: var(--color-success);
  --color-on-success: var(--color-on-success);
  --color-warning: var(--color-warning);
  --color-on-warning: var(--color-on-warning);
  --color-danger: var(--color-danger);
  --color-on-danger: var(--color-on-danger);

  /* Fonts */
  --font-body: var(--font-body);
  --font-title: var(--font-title);

  /* Border Radius - will be overridden by dynamic CSS */
  --radius-none: var(--radius-none);
  --radius-radius: var(--radius-radius);
}

@layer base {
  html {
    scroll-behavior: smooth;
    scrollbar-gutter: none;
    overflow: hidden;
  }

  body {
    font-family: var(--font-body);
    background-color: var(--color-surface-dark);
    color: var(--color-on-surface-dark);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-family: var(--font-title);
    color: var(--color-on-surface-dark-strong);
  }
  .gradient-text {
    background: linear-gradient(
      90deg,
      var(--color-primary-dark),
      var(--color-secondary-dark)
    );
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* --- NEW SKEWED BUTTON STYLES --- */
  .cta-button {
    background-color: var(--color-primary-dark);
    color: var(--color-on-surface-dark-strong);
    font-family: var(--font-title);
    transition: transform 0.3s ease, background-color 0.3s ease;
    position: relative;
    overflow: hidden;
    z-index: 1;
    border-radius: 8px; /* Less rounded corners */
    transform: skewX(-15deg); /* Add the skew */
  }

  .cta-button-text {
    display: inline-block;
    transform: skewX(15deg); /* Counter-skew the text */
  }

  /* --- NEW CLOCKWISE BORDER ANIMATION (FASTER) --- */
  .cta-button .border-span,
  .tab-nav-item .border-span {
    position: absolute;
    background: linear-gradient(
      90deg,
      #6366f1,
      #3b82f6,
      #ec4899,
      #f59e0b,
      #6366f1
    );
    background-size: 400%;
    animation: rainbow-pulse 4s linear infinite;
    z-index: -1;
  }

  /* 1. TOP BORDER (draws right to left) */
  .cta-button .border-span:nth-child(1),
  .tab-nav-item .border-span:nth-child(1) {
    top: 0;
    right: 0;
    width: 0;
    height: 2px;
    transition: width 0.1s linear 0s;
  }
  .cta-button:hover .border-span:nth-child(1),
  .tab-nav-item.active .border-span:nth-child(1) {
    width: 100%;
  }

  /* 2. LEFT BORDER (draws top to bottom) */
  .cta-button .border-span:nth-child(2),
  .tab-nav-item .border-span:nth-child(2) {
    top: 0;
    left: 0;
    width: 2px;
    height: 0;
    transition: height 0.1s linear 0.1s;
  }
  .cta-button:hover .border-span:nth-child(2),
  .tab-nav-item.active .border-span:nth-child(2) {
    height: 100%;
  }

  /* 3. BOTTOM BORDER (draws left to right) */
  .cta-button .border-span:nth-child(3),
  .tab-nav-item .border-span:nth-child(3) {
    bottom: 0;
    left: 0;
    width: 0;
    height: 2px;
    transition: width 0.1s linear 0.2s;
  }
  .cta-button:hover .border-span:nth-child(3),
  .tab-nav-item.active .border-span:nth-child(3) {
    width: 100%;
  }

  /* 4. RIGHT BORDER (draws bottom to top) */
  .cta-button .border-span:nth-child(4),
  .tab-nav-item .border-span:nth-child(4) {
    bottom: 0;
    right: 0;
    width: 2px;
    height: 0;
    transition: height 0.1s linear 0.3s;
  }
  .cta-button:hover .border-span:nth-child(4),
  .tab-nav-item.active .border-span:nth-child(4) {
    height: 100%;
  }

  .cta-button:hover {
    transform: translateY(-3px) skewX(-15deg);
    box-shadow: 0 10px 20px -5px rgba(99, 102, 241, 0.4);
    background-color: transparent; /* Make background transparent on hover */
  }

  /* Animated Background */
  .animated-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100vh;
    z-index: -1;
    overflow: hidden;
    background: var(--color-surface-dark);
  }
  .animated-bg > div {
    position: absolute;
    border-radius: 50%;
    filter: blur(120px);
    opacity: 0.3;
  }
  .shape1 {
    width: 500px;
    height: 500px;
    background: var(--color-primary-dark);
    top: -10%;
    left: -10%;
    animation: move 25s infinite alternate;
  }
  .shape2 {
    width: 400px;
    height: 400px;
    background: var(--color-secondary-dark);
    bottom: -15%;
    right: -5%;
    animation: move 30s infinite alternate;
  }
  .shape3 {
    width: 300px;
    height: 300px;
    background: #8a2be2;
    bottom: 20%;
    left: 15%;
    animation: move 20s infinite alternate;
  }
  @keyframes move {
    0% {
      transform: translate(0, 0) scale(1) rotate(0deg);
    }
    100% {
      transform: translate(10vw, -15vh) scale(1.3) rotate(90deg);
    }
  }

  main {
    perspective: 1500px; /* Crucial for the 3D effect */
  }

  .page-container {
    width: 100vw;
    height: 100vh;
    position: absolute;
    top: 0;
    left: 0;
    display: flex;
    flex-direction: column;
    backface-visibility: hidden; /* Prevents flickering during 3D transforms */
    transform-style: preserve-3d;
  }

  .slide {
    position: absolute;
    inset: 0;
    padding: 120px 24px 120px 24px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  /* Redesigned Tab Navigation with Animated Border */
  .tab-nav {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(13, 12, 20, 0.7);
    backdrop-filter: blur(10px);
    border: 1px solid var(--color-outline-dark);
    border-radius: 12px;
    padding: 8px;
    display: flex;
    align-items: center;
    gap: 8px;
    z-index: 30;
    overflow-x: auto;
    max-width: 90vw;
  }
  .tab-nav-item {
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    transition: color 0.3s ease, background-color 0.3s ease;
    white-space: nowrap;
    font-size: 14px;
    position: relative;
    overflow: hidden;
    z-index: 1;
    background-color: transparent;
  }

  .tab-nav-item.active {
    color: var(--color-on-surface-dark-strong);
    background-color: var(
      --color-surface-dark-alt
    ); /* This covers the animated spans, leaving only the border visible */
  }

  /* Unique Nav Link Hover Effect */
  .nav-link {
    position: relative;
  }
  .nav-link::after {
    content: "";
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 100%;
    height: 2px;
    background: var(--color-primary-dark);
    transform: scaleX(0);
    transform-origin: right;
    transition: transform 0.3s ease-out;
  }
  .nav-link:hover::after {
    transform: scaleX(1);
    transform-origin: left;
  }

  /* Ticker Overlay Styles */
  .ticker-overlay {
    position: fixed;
    inset: -10%;
    width: 120%;
    height: 120%;
    z-index: 0;
    pointer-events: none;
    transform: rotate(-15deg);
    opacity: 0.05;
  }
  .ticker-row {
    display: flex;
    width: 100%;
    margin-bottom: 40px;
  }
  .ticker-row:nth-child(even) .ticker-track {
    animation-direction: reverse;
  }
  .ticker-track {
    display: flex;
    width: fit-content;
    animation: scroll 20s linear infinite; /* Faster scroll */
  }
  .ticker-item {
    height: 60px;
    margin: 0 40px;
    filter: grayscale(1) brightness(5);
  }
  @keyframes scroll {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(-50%);
    }
  }

  /* Foreground Ticker Styles */
  .foreground-ticker-wrapper {
    padding: 2px; /* Even thinner border */
    background: linear-gradient(
      90deg,
      #6366f1,
      #3b82f6,
      #ec4899,
      #f59e0b,
      #6366f1
    );
    background-size: 200% 200%;
    animation: rainbow-pulse 4s ease infinite;
    border-radius: 12px;
    transform: rotate(-3deg) scaleX(1.15); /* Angled and stretched ticker */
  }
  .foreground-ticker {
    background-color: var(--color-surface-dark);
    border-radius: 8px;
    padding: 20px 0;
    overflow: hidden;
  }
  .foreground-ticker .ticker-track {
    animation-duration: 30s;
  }
  .foreground-ticker .ticker-item {
    height: 40px;
    filter: grayscale(1) brightness(1.5);
    opacity: 0.8;
    transition: all 0.3s;
  }
  .foreground-ticker .ticker-item:hover {
    filter: grayscale(0) brightness(1);
    opacity: 1;
  }
  @keyframes rainbow-pulse {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }

  /* Custom 3D Transform Utilities */
  .rotate-y-90 {
    transform: rotateY(90deg);
  }
  .-rotate-y-90 {
    transform: rotateY(-90deg);
  }
  .rotate-y-0 {
    transform: rotateY(0deg);
  }
}
